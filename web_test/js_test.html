<!DOCTYPE html>
<html>
<head>
    <title>js test</title>
    <meta charset="utf-8">
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>

</head>
<body>
    <div id="index_block"></div>
    <button onclick="link_teacher_data()"><a>get data</datagrid></a></button>
    
</body>
<script>
    function link_teacher_data(){
        var teacher_data='';
        var name=[];
        var email=[];
        function get_teacher_data(){
            var test = new XMLHttpRequest();
            test.open('GET','https://ap3.ragic.com/haisann/forms5/1?api=true');
            test.send(null);
            test.onload=function(){
                if(test.status==200){
                    teacher_data=test.responseText;
                   return test.responseText;
                };
            };
            console.log(data);
        };
        get_teacher_data();
        document.write(teacher_data);
        // console.log(typeof(teacher_data));

        // for (var i in teacher_data){
        //         name.push(teacher_data[i]['老師名稱']);
        //         email.push([i]['老師電子郵件']);
        //   };
        //     document.write(name,email)
        };  
</script>
</html>