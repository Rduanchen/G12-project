<html>
  <head>
    <link rel="stylesheet" href="./testbootstrap.css">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
  </head>
  <style>
    [aria-invalid=true]{
        border:red thin solid !important;
        border-width: thin medium thick
    }
  </style>
<body>

<h1>hello</h1>
<div class="container">
  <div class="row" id="general_form">
    <div class="col-2">
        <label for="Rent_form_g_name" class="form-label">general_name</label>
        <div class="Search_select_box">
            <select class="selectpicker" data-live-search="true" id="Rent_form_g_name">
                <option value="1">chose a general</option>
            </select>
        </div>
    </div>
    <div class="Search_select_box">
      <select class="selectpicker" data-live-search="true" aria-label="Default select example" id="Rent_form_teacher" placeholder="Ex.王小華" name="1000142" aria-invalid="true">
          <option value="1">請選擇老師</option>
          <option value="2">hhh</option>
      </select>
    </div>
  </div>
  <label for="Rent_form_remark" class="form-label">借用事由</label>
  <input type="text" class="form-control" placeholder="Ex.可以在此填入特殊借用器具" id="Rent_form_remark" name="1000146" aria-invalid="false">
</div>

</body>
<script>
    var general_name=['Ragic Data base','Sql langruage','No Sql'];
    var sendreq=['https:Ragic.com']
    for(var i in general_name){
        
    }
    var url='https://ap3.ragic.com/haisann/forms2/1?api=true';
    var xmlHttp = new XMLHttpRequest();
    xmlHttp.open( "GET", url, false ); // false for synchronous request
    xmlHttp.send( null );
    general_data=JSON.parse(xmlHttp.responseText);
    console.log(general_data);
    for(var i in general_data){
        general_name.push(general_data[i]["財產名稱"]);
    };

    $('#Rent_form_g_name').change(function(){
        console.log("event listener");
        print();
    });

    function link_autocomplete_data($id){
    console.log("set "+$id+"'s autocomplete sucessfully ");

    var num=2;
        for(var i in general_name){
            console.log(general_name[i]," "+i)
            $('<option value="'+num+'">'+general_name[i]+"</option>").insertAfter( $('#'+$id).find("option:last"))
            num++;
        };
    };
    function print(){
        console.log($('#Rent_form_g_name').val());
    }
    link_autocomplete_data('Rent_form_g_name');
    $(".selectpicker").each(function(){ $(this).selectpicker(); });


   
    


</script>
</html>